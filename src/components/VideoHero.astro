<section
  id="hero"
  class="overflow-hidden relative h-screen z-0 flex flex-col border-0 shadow-none items-center justify-center text-center py-0 px-0"
>
  <div class="video-docker absolute top-0 left-0 w-full h-full overflow-hidden">

    <img id="introVideoCover" src="/images/intro-quick-load.webp" alt="Swiss Paraglide Zermatt" class="min-w-full min-h-full absolute object-cover" />

    <video
      id="introVideo"
      class="min-w-full min-h-full absolute object-cover"
      autoplay
      muted
      playsinline
      loop

    >
      <source
        src="/video/starter-matterhorn-paragliding-into2.webm"
        type="video/webm"
      />
      <source
        src="/video/starter-matterhorn-paragliding-into2.mp4"
        type="video/mp4"
      />
    </video>

  </div>

</section>

<!-- <h2
      class="mx-auto text-shadow mt-4 px-10 font-normal text-3xl md:text-5xl md:max-w-3xl md:p-10 !leading-snug"
    >
      Fly above the stunning Swiss&nbsp;Alps with
      Swiss&nbsp;Paraglide&nbsp;Zermatt
    </h2> -->

<!-- <div
  id="intro"
  class="mt-8 sm:mt-12 py-6 px-12 sm:p-6 bg-black/60 sm:rounded-md text-base/7 sm:text-md sm:max-w-xl sm:mx-auto md:text-xl md:max-w-2xl"
>
  <p class="pb-2 text-shadow">
    Let our Swiss Certified &amp; highly experienced tandem pilots take you on
    an experience of a lifetime.
  </p>
  <p class="text-shadow">
        As seen on the Korean TV show "Running&nbsp;Man" and MBC's "
        <a
          href="https://www.allkpop.com/article/2014/06/noh-hong-chul-sends-a-video-letter-to-his-future-son-while-paragliding"
          target="_blank"
        >
          Live&nbsp;Alone
        </a>" with

        <a href="https://en.wikipedia.org/wiki/Noh_Hong-chul" target="_blank">
          Noh&nbsp;Hong&nbsp;Chul
        </a>
      </p>
</div> -->

<style>
  html {
    width: 100vw;
    overflow-x: hidden;
  }

  .video-docker video {
    position: relative;
    width: 110%;
    height: 110%;
    top: 49%;
    left: 49%;
    transform: translate(-49%, -49%);
    
    opacity: 0;
    transition: opacity 4s;
  }
    .video-docker video.loaded {
      opacity: 1;
    }


  .video-docker::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    background: rgba(0, 0, 0, 0);
    z-index: 1;
  }
</style>

<script>

  const video = document.querySelector("video");
  let checkInterval;
  let checkPerformed = false;

  function checkVideoLoaded() {
    if (checkPerformed) return;

    if (video.readyState >= 3) {
      // HAVE_FUTURE_DATA or higher
      console.log("Video is ready to play");

      video.classList.add('loaded');


      // Hide loading spinner or perform other actions here
      clearInterval(checkInterval);
      removeEventListeners();
      checkPerformed = true;
    }
  }

  function removeEventListeners() {
    video.removeEventListener("canplay", checkVideoLoaded);
    video.removeEventListener("loadeddata", checkVideoLoaded);
    video.removeEventListener("loadedmetadata", checkVideoLoaded);
    window.removeEventListener("load", initVideoCheck);
  }

  function initVideoCheck() {
    if (checkPerformed) return;

    // Immediate check
    checkVideoLoaded();

    // Set up periodic checking
    checkInterval = setInterval(checkVideoLoaded, 100);

    // Set up event listeners
    video.addEventListener("canplay", checkVideoLoaded);
    video.addEventListener("loadeddata", checkVideoLoaded);
    video.addEventListener("loadedmetadata", checkVideoLoaded);
  }

  // Run on window load
  window.addEventListener("load", initVideoCheck);

  // Additional failsafe: check after a short delay
  setTimeout(initVideoCheck, 1000);

</script>
