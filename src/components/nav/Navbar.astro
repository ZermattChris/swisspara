---

// import { Picture } from 'astro:assets';
// import paraImg from "@images/Swiss-Paraglide-Zermatt-in-front-of-Matthorn-summer-lowres.jpg";

import SVGLogo from "@components/nav/Logo.astro"

---

<link rel="preload" as="image" href="/images/Swiss-Paraglide-Zermatt-in-front-of-Matthorn-summer-lowres.jpg">

<nav id="navbar"
    class="sticky top-0 z-[90] h-[62px]  
    flex flex-wrap items-center justify-between w-full py-4 px-4 text-lg text-gray-100
    "
>
    <!-- SVG Logo  -->
    <div class="relative top-[-10px] z-40">
        <a href="/" aria-label="Return to Swiss Paraglide Zermatt's home page">
            <SVGLogo/>
        </a>
    </div>

    <!-- SVG Hamburger Button  -->
    <div class="relative top-[-10px] z-40">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            id="menu-button"
            class="h-6 w-6 cursor-pointer md:hidden block"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
            />
        </svg>
    </div>

    <!-- Menu / Flyout Menu  -->
    <div 
        id="menu"   
        class="hidden absolute right-0 top-0 pt-[60px]
        bg-cover md:bg-none
        bg-[url('/images/Swiss-Paraglide-Zermatt-in-front-of-Matthorn-summer-lowres.jpg')]   
        w-screen shadow-xl   md:flex md:items-center md:w-auto md:pt-0 md:shadow-none"
    >
        <ul id="navMenu" class=" p-5 pl-8 text-base md:flex md:justify-between    md:p-0 md:pt-[3px]" >

            <li>
                <a class="pb-6 pt-3 md:pt-4 md:pr-4 md:pb-0 block" href="/book-now" rel="prefetch"  aria-label="Book your flight directly online. See what flights, times and available pilots for your desired flight date.">
                    <!-- SVG Book Now! Button  -->
                    <button type="button" class="rounded text-black bg-lime-300 px-2 py-1 text-sm font-semibold hover:bg-gray-100 ring-1 ring-inset ring-white hover:ring-lime-300 ">Book Now!</button>
                </a>
            </li>

            <li>
                <a class="md:p-4 py-2 block"  href="/flights" rel="prefetch"  aria-label="View Swiss Paraglide Zermatt's various paragliding flights">Flights</a>
            </li>
            <li>
                <a class="md:p-4 py-2 block" href="preflight" rel="prefetch" aria-label="Good to know before you book a flight with Swiss Paraglide Zermatt">Pre-flight</a>
            </li>
            <li>
                <a class="md:p-4 py-2 block" href="/gallery" aria-label="Some of the amazing photos from flying with Swiss Paraglide Zermatt">Gallery</a>
            </li>
            <li>
                <a class="md:p-4 py-2 block" href="/about" aria-label="Read about Swiss Paraglide Zermatt - who we are and our philosophy on paragliding">About Us</a>
            </li>
            <li>
                <a class="md:p-4 py-2 block" href="/contact" aria-label="How to get in touch with Swiss Paraglide Zermatt">Contact</a>
            </li>
        </ul>
        
    </div>
</nav>



<script>

    // Vanilla JS.

    const button = document.querySelector('#menu-button');
    const menu = document.querySelector('#menu');
    const menuLinks = document.querySelectorAll('#menu a');


    button.addEventListener('click', () => {
        menu.classList.toggle('hidden');
    });

    menuLinks.forEach((mLink) => {
        
        mLink.addEventListener('click', () => {
            menu.classList.toggle('hidden')
        })

    })
    function onClickOutside(el, cb) {
        document.addEventListener('click', event => {
            if (!el.contains(event.target)) cb();
        });
    };

    // Close on outside clicks.
    var navBar = document.getElementById('navbar')

    onClickOutside(navBar, () => {
        if (!menu.classList.contains('hidden')) {
            menu.classList.add('hidden')
        }
    })



</script>